sudo: required
service:
  - docker
language: bash
env:
  global:
    secure: "SkIERP0bwbOCAqeU3gXQev67RBQlpoAuYM3dpl/emfP87Qc+rkX9gdC4vrmQoNuEA+4Rd+pC2vvzsWsgakm37z1UZqFJj8+7AF5UgCPSrtI0L0N/bSrpenBgLz3g4RzP8IVnWC5DISnDq23aHkW7FVEHwV5+oW1dTQrHKZS9ubgJC0IVmNZznXzmOQ32I5RSoTDIJU7eRFkNwt2W8DSSVxETlY1hVpNyfskHoSe2TckYI46ehllRlEfQP9til/dJfqzxL0ZohRTPciw5i89NIGYEQ5uBmPj3At57+1J+dDv21Rdnazj3rdEn6UUp9q53hefkQqypX7HqDUkysu52NoBvWcsA6v+sPwrf5dNRMIMnpCYYONT5C2eRHfmmOahAWesS2Lgc5lcWw6GIMh782YdsmudyG3oP3WriaZEm42sMyujaMHNkDPebsPKVqCDpS8xraOmx7xcg2pXuSGiGdwzcu7lVVXEkA+xFIXAXm/09KlLTVJY0fU5uCZ/d7LE2hQDJ50I6lqccd+OSL+pam8JguVcEPPBvMpy/oLgw6wpboNIhd2qPSjxrXBespeBjHMSL4x+7dSfD8CVb9QpWH13P0aBLcakEh7Kj8cRXn1UNao+zcxi4IanLzfvNSjKxcCBTfdPyjb9E+FuwhNB/WlLbhpvi+if1OXspa3VUIK4="
    secure: "Fr4QO4y3J7fwa9zqs2nzWpZFkM3pVKsjf1CnQIf2RNa9QhNj+vFQ7WyZygwn1dF4Hk4SEXhxsowR/wkLuG3Os0AkN4Oaet/DAuQnhS0YKey/EvZ63JQoik23vXFdlbFNeV1UQqafWYfzdT67EaJMbZHZDDE4TnsACpUpcTkiRbSJ4LPES76TTh6JSvYWGGJk9q+OjmZwy/aDsId1oZEh3MC4iatITeccHvFBrfjYtbO/5XkTAA54XzL2sCMqhGevg4Xn9MWItE2YHz151ml0xvd0tHT8SHGfmbS8fr0I7PWYW/YvhcHTE3odIhQco6UyLPzvdrmNt+hcS6W/YjD+b2alofWlhNxcMe0rDAFXjozhstGFF3aFqcf+G7IiRbSZSyZdMsQQU1Q61xC1d0LS57XiVv9mOa0fDQD0OIGM9YCu0N7oLp5KYR2zSB5fZZBU6zp7pk9f2PtJ08/br1gRLnxGJmfwhg4MYOfIWweIV/CeWqb9nPO7RRVBt2dbB+6pWTNicA4lELcfar4PO1q39oPAnc03M3tjTWOAFNZ09HPrVIfLyi4rwv+brJrnnkdh5WknL7sQSIVB2A2/x9MVUe8zN0riraKQFLlSIaab2/M5rI4N04ndFvkXrmqJGGymsnlCGQ1XpZtNhJFpV12noSTxJgDnLprCI7C8WB+qxpA="
    secure: "B1fU9E5C5PMfRE6bxyWmwYh1ECohPjpJz5k2xHSKwHImfecjshyfsAyGGa+QUWCBbQ9xdfINuSKFfo9TpDob0cAa/cguhjIj+S7nhgWxLinux3LyiOZEQB7EIs3YH1LzhaJQDUKivkdPh3e2VbVYYH7qwid2LO0mTHQbLCjCItPtiV+zwPudqg6NK005lR8RvG1rNclDMyyEDxb1eKKlcjgaGzZawbe01TLiYIuZy9u61b1GIN0v62kTDz4XJuT8cGw0c6gpCfr/A049JaJSdX6QI59GzcFmL8ak8dxgXcluxjvMv7QDQ85yWiobPLVJ04rzJ54VPckHnhErYp6WKOtTqbkuyefTfhGo4gX2kXhnz6Y++fJ3V580pkBkyL3d2JkKaNotD6QQ+9bSCxgvE2d0hIeUL8NI1NE7NYzoXO9p42UuisfZ+8RzMcMtoDmi7NCySN3TDkV+viomXe1fg7qGmo/NpsMFNhJOmVNMtXa0kxTMmdlLniHI+c2QBIpEOuO/p1JuuiijyouaVrjE/6nE3EJBhJjgj+CwKnvC5of3Hy8YjZGADfQ9jtV3+C/t1fiOT38nNTXPrUoNGSZC4wIsMBDOx4lTngCSxhn2gjFl7VYyST8jNxwCYfw8RU5IZ52i/yrpaortyXAZs+nIwWRn9lVHuSdKP/5A8S25xIw="
script:
  - docker run --rm --privileged multiarch/qemu-user-static:register --reset
  - docker build -t champain/latin_squares .
  - docker run champain/latin_squares 3 http://slack.bogus.api/fjdsklfjsdaklfjsdakl
  - > 
      if [ "$TRAVIS_BRANCH" == "master" ] && [ "$TRAVIS_PULL_REQUEST" == "false" ]; then
          docker login -u="$DOCKER_USER" -p="$DOCKER_PASS"
          docker tag champain/latin_squares champain/latin_squares:latest
          docker push champain/latin_squares:latest
          docker push champain/latin_squares
      fi 
